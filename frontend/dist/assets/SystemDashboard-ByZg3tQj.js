import{_ as x,r as p,c as w,o as S,n as k,b as r,d as a,e as i,w as v,f as d,F as M,j as $,i as c,h as z,t as u}from"./index-DBwGIS2Y.js";import{a6 as A,a7 as B,a8 as C,a9 as L,aa as R}from"./installCanvasRenderer-CjKD-AXp.js";import{i as D,b as E}from"./install-GTRPN8Dk.js";const N={class:"page-header flex-between"},V={class:"metrics"},F={class:"metric-card__label"},I={class:"metric-card__value"},P={class:"metric-card__meta"},T={class:"card-section"},j={__name:"SystemDashboard",setup(G){const l=p(!1),m=p(null);let e;const b=w(()=>[{label:"在线用户",value:18,meta:"活跃角色覆盖采购、仓库、管理"},{label:"接口响应 (P95)",value:"210 ms",meta:"近 24 小时"},{label:"错误率",value:"0.6%",meta:"近 24 小时"},{label:"队列堆积",value:3,meta:"消息队列待处理任务"}]);A([D,C,L,E,R]);const h=()=>{e=e??B(m.value);const s=Array.from({length:12},(t,n)=>`${n*2}:00`);e.setOption({tooltip:{trigger:"axis"},legend:{data:["成功请求","错误请求"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:s},yAxis:{type:"value"},series:[{name:"成功请求",type:"line",smooth:!0,areaStyle:{color:"rgba(59, 130, 246, 0.2)"},lineStyle:{color:"#2563eb"},data:s.map(()=>Math.round(200+Math.random()*80))},{name:"错误请求",type:"line",smooth:!0,lineStyle:{color:"#ef4444"},data:s.map(()=>Math.round(Math.random()*10))}]})},_=()=>{l.value=!0,setTimeout(()=>{h(),l.value=!1},500)};S(()=>{_(),window.addEventListener("resize",f)});const f=()=>e==null?void 0:e.resize();return k(()=>{window.removeEventListener("resize",f),e==null||e.dispose()}),(s,t)=>{const n=d("Refresh"),y=d("el-icon"),g=d("el-button");return c(),r("div",null,[a("div",N,[t[1]||(t[1]=a("h2",null,"系统监控仪表盘",-1)),i(g,{onClick:_,loading:l.value},{default:v(()=>[i(y,null,{default:v(()=>[i(n)]),_:1}),t[0]||(t[0]=z(" 刷新 ",-1))]),_:1},8,["loading"])]),a("section",V,[(c(!0),r(M,null,$(b.value,o=>(c(),r("div",{class:"metric-card",key:o.label},[a("div",F,u(o.label),1),a("div",I,u(o.value),1),a("div",P,u(o.meta),1)]))),128))]),a("section",T,[t[2]||(t[2]=a("h3",null,"API 请求量趋势",-1)),a("div",{ref_key:"trafficRef",ref:m,class:"chart"},null,512)])])}}},H=x(j,[["__scopeId","data-v-e5827aea"]]);export{H as default};

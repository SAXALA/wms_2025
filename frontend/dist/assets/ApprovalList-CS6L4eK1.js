import{r as c,o as h,c as N,b as k,d,e,w as a,f as s,u as x,i as V,h as u,t as m}from"./index-DBwGIS2Y.js";import{a as B}from"./api-CBBxTYRf.js";import{_ as C}from"./StatusTag-D7z7amcZ.js";const U={class:"page-header flex-between"},A={class:"card-section"},R={__name:"ApprovalList",setup(O){const b=x(),n=c(""),r=c([]);h(async()=>{r.value=await B.listApprovals()});const f=N(()=>n.value?r.value.filter(p=>p.type===n.value):r.value),v=p=>{b.push(`/manager/approval/${p}`)};return(p,l)=>{const i=s("el-option"),y=s("el-select"),o=s("el-table-column"),_=s("el-button"),w=s("el-table");return V(),k("div",null,[d("div",U,[l[1]||(l[1]=d("h2",null,"待我审批",-1)),e(y,{modelValue:n.value,"onUpdate:modelValue":l[0]||(l[0]=t=>n.value=t),placeholder:"类型筛选",clearable:"",style:{width:"200px"}},{default:a(()=>[e(i,{label:"采购申请",value:"PROCUREMENT"}),e(i,{label:"入库申请",value:"INBOUND"}),e(i,{label:"出库申请",value:"OUTBOUND"})]),_:1},8,["modelValue"])]),d("section",A,[e(w,{data:f.value,border:"",stripe:""},{default:a(()=>[e(o,{label:"单据号",width:"160"},{default:a(({row:t})=>[u(m(t.displayId??t.id),1)]),_:1}),e(o,{label:"类型",width:"140"},{default:a(({row:t})=>[u(m(t.typeLabel??t.type),1)]),_:1}),e(o,{prop:"applicant",label:"发起人",width:"120"}),e(o,{prop:"submittedAt",label:"提交时间",width:"160"}),e(o,{label:"状态",width:"120"},{default:a(({row:t})=>[e(C,{status:t.status},null,8,["status"])]),_:1}),e(o,{label:"操作",width:"160"},{default:a(({row:t})=>[e(_,{link:"",type:"primary",onClick:T=>v(t.id)},{default:a(()=>[...l[2]||(l[2]=[u("审批",-1)])]),_:1},8,["onClick"]),e(_,{link:""},{default:a(()=>[...l[3]||(l[3]=[u("详情",-1)])]),_:1})]),_:1})]),_:1},8,["data"])])])}}};export{R as default};
